<!DOCTYPE html>
<html>
<head>
  <title>XonoHub Key</title>
</head>
<body style="background:#111;color:white;font-family:sans-serif;text-align:center">

<h2>Your XonoHub Key</h2>
<p id="key">Loading...</p>
<p>Copy this key and paste it into your hub</p>

<script>
const PASTEBIN_RAW = "https://raw.githubusercontent.com/jinmakerr/XonoHub-KeyGen/main/keys.json"; // your GitHub keys.json
const DAY = 86400; // 24 hours in seconds

// fetch keys from GitHub repo
fetch(PASTEBIN_RAW)
  .then(r => r.json())
  .then(data => {
    const now = Math.floor(Date.now()/1000);
    // filter keys: not expired and not HWID-locked
    const validKeys = Object.keys(data).filter(k => {
      const entry = data[k];
      return (!entry.hwid) && ((now - entry.created) <= DAY);
    });

    if (validKeys.length === 0) {
      document.getElementById("key").innerText = "No valid keys available, try later";
      return;
    }

    // randomly pick one valid key
    const randomKey = validKeys[Math.floor(Math.random()*validKeys.length)];
    document.getElementById("key").innerText = randomKey;
  })
  .catch(() => {
    document.getElementById("key").innerText = "Failed to fetch keys";
  });
</script>

</body>
</html>
